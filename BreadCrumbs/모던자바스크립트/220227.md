# 모던자바스크립트 Deep Dive

## 12장 함수

함수는 자바스크립트에서 가장 중요한 핵심 개념.

<br>

### 12.5.1 매개변수와 인수

---

- 매개변수
  - 함수를 실행하기 위해 필요한 값을 함수 외부에서 내부로 전달할 필요가 있는 경우, 매개변수를 통해 인수를 전달함.
  - 인수는 값으로 평가될 수 있는 표현식이어야 함.
  - 인수는 개수와 타입에 제한이 없음

```
//함수 선언문
function add(x, y){
  return x + y;
}

//함수 호출
//인수 1과 2 -> 매개변수 x, y에 순서대로 할당되고 함수 몸체의 문들이 실행됨.
var result = add(1, 2);
```

- 매개변수는 함수를 정의할 때 선언하며, 함수 몸체 내부에서 변수와 동일하게 취급.

<br>

- 함수는 매개변수의 개수와 인수의 개수가 일치하는지 체크하지 않음.
  - 즉, 함수를 호출할 때 매개변수의 개수만큼 인수를 전달하는 것이 일반적이지만, 그렇지 않은 경우에 에러가 발생하지 않음
  - 인수가 부족해서 인수가 할당되지 않은 매개변수의 값은 `undefined`

```
function add(x, y) {
  return x + y;
}

console.log(add(2)) // NaN

/*
위 예제의 매개변수 x에는 인수 2가 전달됨.
하지만 매개변수 y에는 전달할 인수가 없음 -> undefined
따라서 함수 몸체의 문 x + y = 2 + undefined = NaN
*/
```

- 매개변수보다 인수가 더 많은 경우는 초과된 인수 무시

```
function add(x, y) {
  return x + y;
}

console.log(add(2, 5, 10)); //7

/*
사실 초과된 인수가 그냥 버려지는 것은 아님
모든 인수는 암묵적으로 ㅁrguments 객체의 프로퍼티로 보관됨
*/

function add(x, y) {
  console.log(arguments);
  //[Arguments] { '0': 2, '1': 5, '2': 10 }
}
```

<br>

### 12.5.2 인수 확인

---

```
function add(x, y) {
  return x + y;
}

console.log(add(2));
console.log(add(`a`, `b`));
```

- 위 코드는 자바스크립트 문법상 어떠한 문제도 없음. 이러한 상황이 발생한 이유는 두 가지

  1. 자바스크립트 함수는 매개변수와 인수의 개수가 일치하는지 확인하지 않음.
  2. 자바스크립트는 동적 타입 언어임. 따라서 자바스크립트 함수는 매개변수의 타입을 사전에 지정할 수 없음.

  **따라서 자바스크립트의 경우 함수를 정의할 때 적절한 인수가 전달되었는지 확인할 필요가 있음**

```
function add(x, y) {
  if (typeof x !== `number` || typeof y !== `number`) {
    throw new TypeError(`인수는 모두 숫자 값이어야 합니다.`);
  }
  return x + y;
}

console.log(add(2)); //TypeError: 인수는 모두 숫자 값이어야 합니다.
console.log(add(`a`, `b`)); //TypeError: 인수는 모두 숫자 값이어야 합니다.
console.log(add(2, 5)); //7
```

<br>

### 12.5.3 매개변수의 최대 개수

---

- ECMAScript 사양에서는 매개변수의 최대 개수에 대해 명시적으로 제한하고 있지 않음.
- 하지만 함수의 매개변수는 코드를 이해하는 데 방해되는 요소이므로 이상적인 매개변수 개수는 0개이며 적을수록 좋음.
- 함수는 한 가지 일만 해야하며 가급적 작게 만들 것.

  → 따라서 매개변수는 최대 3개 이상을 넘지 않을 것을 권함.

<br>

### 12.5.4 반환문

---

- 반환문은 두 가지 역할을 함.

  1. 반환문은 함수의 실행을 중단하고 함수 몸체를 빠져나감.
     따라서 반환문 이후에 다른 문이 존재하면 그 문은 실행되지 않고 무시됨.

  ```
  function multiply(x, y) {
  return x * y; // 반환문

  console.log(`실행되지 않음.`);
  }
  console.log(multiply(3, 5)); //15
  ```

  2. 반환문은 return 키워드 뒤에 오는 표현식을 평가해 반환함.
     return 키워드 뒤에 반환값으로 사용할 표현식을 명시적으로 지정하지 않으면 undefined가 반환

  ```
  function foo() {
  return;
  }

  console.log(foo()); //undefined
  ```
