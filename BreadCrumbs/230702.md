# 백엔드 프레임워크

> 최근 사내에서 새롭게 시작될 프로젝트를 백엔드 / 프론트 모두 경험해볼 기회가 생겼다.  
> 너무 좋은 기회이니 만큼 써보고 싶던 백엔드 프레임워크를 고민하다가 글을 쓰게 됐다.

<br>

### 어떤걸로 써야할까?

처음 기획을 잡을 당시엔, fastify와 prisma를 사용하려고 했고, 구상도를 그려서 설명드렸다.
하지만 너무 기술적인 고민한 하게 되고, 고민만 깊어져서 일단 작게 시작하자는 마음으로 next.js api 폴더를 사용하려 했다.
근데? next.js api폴더는 제공해주는 게 너무 없다... 아직은 잘 모르겠지만, next.js api 폴더는 애초에 백엔드 서버로 프록시 기능을 할 때 더 유용할 수 있겠다는 생각이 든다.
그럼, 뭐가 좋을까? 세 가지를 크게 고민하고 있다. nest.js는 이 고민에 포함되지 않았는데, 데코레이터나, 코딩하는 스타일을 딱 잡아주는 것은 좋지만 뭐가 너무 많다... 공부해야할 것도, 익혀가야할 것도 너무너무 많은 듯 했다. 나는 프론트엔드 개발자로 더 성장하고 싶고, 이를 위한 기반으로 백엔드를 학습하고 싶은 마음도 크다. 한편으론, 백엔드 개발도 할 수 있고 프론트개발도 할 수 있어 추후엔 나만의 서비스를 더 쉽고 빠르게 만들고 싶어서 백엔드 개발을 공부하고 싶은 것도 있다.

<br>

그래서 express vs koa vs fastify를 고민하고 있다. 결국 express vs koa 중 선택하게 될 것 같다.
그 이유는 생태계가 큰 곳이 좋다는 생각이 너무너무 많이 든다. next.js 13 version을 실험단계에서 적용했었는데, 온전히 공식문서만을 보고 학습하기 버거웠다.
근데, 안정화단계에 오르자마자 유튜브에 app 디렉토리 관련 영상이 굉장히 활발히 올라왔다. 그래서, 다시 한번 느낀게, 생태계가 넓은 풀에 있어야겠다는 생각이 들었다.

<br>

### express

결국 express를 사용하게 될 것 같다. 이유는 대략 이러하다.

1. 백엔드 개발이 처음이라, 당연하게도 모르는게 너무너무 많다.
   - 이때 nest.js 또는 fastfiy 같은 신기술을 접하게 되면, 오히려 express 또는 node로 개발할 때의 불편함을 알지 못하게 된다.
   - 프론트개발에서 Next-step의 TDD 수업을 들을 때 javascript가 이렇게 불편한줄 알지 못했다. 그 이유는 위코드에서 간단한 js만 배우고, react로 바로 넘어갔기 때문이라고 생각한다.
   - 하지만, next.js를 접하면서 이젠 react로 돌아가는게 두렵다.
   - 즉, 단계별로 불편함을 느끼면서 점차 편한 도구를 사용하고 싶다.

<br>

2. 나쁜 코드를 작성해보라는 말에 공감했다.

- 우리 사내의 개발세션에서 멘토님의 말을 인용했다.
- 나쁜코드를 작성해봐야, 좋은 코드를 작성할 수 있다는 말에 크게 공감했다.
- express를 통해 MVC패턴으로 코드를 짜보려고 할 것이다. 하지만, 나쁜 코드를 많이 생산할 것 같다.
- 부수고 다시 만드는 것을 좋아하진 않지만, 익숙해져야 할 것 같다.

<br>

3. 생태계가 넓다.

- 위에서 적었듯이 처음이라 모르는게 너무 많다.
- 그래서 검색만으로 간단히 찾아볼 수 있는 자료가 많았으면 좋겠다는 생각이 들었다.
- 이런 점에서 koa보다 express가 더 좋을 것 같다.

<br>

4.  async await

- js를 사용해본 사람이라면, 콜백지옥을 좋아하는 사람은 없을 것이다.(분명)
- express를 아직 사용해보지 않아서 모르겠지만, async await을 지원하지 않는다고 알고 있다.
- 하지만, try/catch문과 플러그인을 잘 붙이면 비슷하게 구현할 수 있다는 글을 심심찮게 찾아볼 수 있다.(정말 자료가 많다.)
- 그래서 koa를 고려하지 않아도 되겠다는 생각이 들었다.

<br>

5. 속도

- express vs fastify vs koa vs next.js의 속도비교를 한 유튜브 영상을 본 적이 있다.
- 이때 express가 가장 느린데, 그럼에도 내가 express를 선택한 이유는 내가 지금 개발하는데 얼마나 성능이 좋은지는 우선순위가 낮다. 얼마나 빨리, 잘, 투자 대비 퍼포먼스적으로 개발을 해낼 수 있는지가 우선순위가 더 높다.
