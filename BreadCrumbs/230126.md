# tanstack-query

- suspense를 적용하고 싶어서 react-query를 적용하려함

<br>

단, 아직 모르는게 너무 많음.

특히 다음과 같은 것들은 추후 TIL contents로 사용하기

### 1.

- 상단에서 useQuery hook으로 데이터를 fetching 해왔다가 unmount(브라우저에 dev tool)시켰다가 다시 화면(UI)를 클릭하면 데이터가 사라져버린다.
- 근데 신기한건 undefined가 아니고 data가 빈 배열이 되어버림

```TSX
photo: [{id:1, src: "adc"}]

photo: []
```

cache에서 뭔가를 놓치고 있는 거 같음.

<br>

### 2.

간단한 CRUD를 구현해보려고 query를 hook으로 각각 만들어보고 있다.
폴더구조는 어떤식으로 잡아야하는지 잘 모르겠어서 queries/ 내 목적에 따라서 나누어줬고, import 시켜서 사용한다.

<br>

### 3.

ssr을 꺼야 suspense를 구현할 수 있다고 하는데 무슨 뜻인지 아직 정확히 모르겠음.

<br>

### 4.

useMutation을 이용해서 삭제 기능을 구현하면 json상에 데이터를 없어지는 반면, UI에서는 50개가 그대로 남아있음 ㅠㅠ..
