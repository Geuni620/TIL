### 장애 기록

* 어제 딥조도 프로젝트의 에러가 발생해서 오후 4시부터 접속이 되지 않았음.
* local에선 잘 접속되고, 페이지 이동도 정상적으로 동작하는 반면, deploy만 하면 에러가 발생

![deep-jejodo-error](../../deep-jejodo-error.png)

* 먼저 deploy를 하면 이후에 넘어가질 않음(10분이 지나도 동작하지 않아서 취소했음)
  - 이전에는 cache를 지우고 다시 Deploy를 하니 잘 동작했는데 반해 이번엔 넘어가질 않음;
  - 그래서 server 쪽에 proxy 에러 문구를 보고 아파치쪽에 문제가 있는지 확인하려고 했음.(관련 개발자분께 문의)
  - 아마 서버쪽 에러는 아닌거 같고, 애플리케이션 자체 문제인 것 같다는 대답을 듣고 내 애플리케이션을 확인해봄

<br>

* 로컬에서 build를 해서 build된 파일을 서버로 띄워봄
  - 이상하게 build 된 파일도 에러가 뜨는데 다음과 같이 뜬다

![deep-jejodo-build-error](../../deep-jejodo-error2.png)

* 이 에러의 원인은 파악하지 못했음, notion pageId가 필요한데 이 값이 undefined로 들어오는 듯하다.
* 근데 페이지 이동은 또 잘 이루어짐...

<br>


* 근본적인 원인은 EC2 server의 메모리 릭이 발생하고 있었고, 용량이 다 찼기 때문이었다.

<br>

- 결과적으론 애플리케이션 에러는 아니였고, 서버쪽에서 용량을 해결해주고 Deploy 했을 때 정상적으로 동작했다.
- 애플리케이션 문제는 아니였지만, 그래도 이번 계기로 또 한번 배움이 있었다.
- 그리고 해결해야할 문제도 아직 존재한다. (위 Build했을 때 에러가 왜 발생했는지)



