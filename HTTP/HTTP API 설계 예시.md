# HTTP API 설계

> PATCH는 부분적으로 수정 할 수 있음  
> PUT은 완전히 덮어비리는 경우

- 즉, PATCH로 회원정보를 수정하는 것이 좋음.
- 단, 완전히 덮어버리기 좋은 예시는 게시글.
- 애매할 경우엔 POST를 사용하면 됨.

<br>

## 컬렉션

- 서버가 관리하는 리소스 디렉토리
- 서버가 리소스의 URI를 생성하고 관리

```
POST /members/
```

- post로 유저정보 전송시 서버에서 리소스 URI를 만들고 결정해줌.
- 응답으로 Location: /members/100  
  → 클라이언트는 등록될 리소스의 URI를 모름(서버가 해줌)
- 여기서 컬렉션은 `/members`

<br>

## 스토어

- 클라이언트가 관리하는 리소스 저장소
- 클라이언트가 리소스의 URI를 알고 관리
- 하지만 대부분은 컬렉션으로 처리함.

```
PUT /file/star.jpg
```

- 파일을 생성(게시글 생성) 할 땐 PUT이 딱 맞음
- 기존내용이 있으면 PUT이 덮어주고, 없으면 새롭게 생성  
  → PUT이 딱 맞음
- 이때는 클라이언트가 URI를 알고 있어야 함.
- 이런 관리방법을 스토어라고 하고 여기서 스토어는 `/file`

<br>

## HTML Form

- HTML Form은 GET, POST만 지원함
- 그래서 `컨트롤 URI`를 사용함

```
/members/new
/members/delete
/members/edit
```

- 실무에선 엄청 많이 사용함
- 이땐 동사사용 가능
- 무분별하게 남발해서는 안됨.

<br>

## 정리

1. 리소스로 무조건 설계하자
2. 리소스로 한계가 있다면 컨트롤러 URI를 사용하자
